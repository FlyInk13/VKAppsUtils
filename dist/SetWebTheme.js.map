{"version":3,"sources":["../src/SetWebTheme.js"],"names":["SetWebTheme","isWeb","connect","subscribe","e","detail","type","schemeAttribute","document","createAttribute","value","data","scheme","body","attributes","setNamedItem","appearance","send","status_bar_style","action_bar_color"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;;;AAMA,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AAC1BC,0BAAQC,SAAR,CAAkB,UAACC,CAAD,EAAO;AACvB,YAAQA,CAAC,CAACC,MAAF,CAASC,IAAjB;AACE,WAAK,sBAAL;AACE,YAAIC,eAAe,GAAGC,QAAQ,CAACC,eAAT,CAAyB,QAAzB,CAAtB;;AACA,YAAIR,KAAJ,EAAW;AACTM,UAAAA,eAAe,CAACG,KAAhB,GAAwB,cAAxB;AACD,SAFD,MAEO;AACLH,UAAAA,eAAe,CAACG,KAAhB,GAAwBN,CAAC,CAACC,MAAF,CAASM,IAAT,CAAcC,MAAd,GAAuBR,CAAC,CAACC,MAAF,CAASM,IAAT,CAAcC,MAArC,GAA8C,cAAtE;AACD;;AACDJ,QAAAA,QAAQ,CAACK,IAAT,CAAcC,UAAd,CAAyBC,YAAzB,CAAsCR,eAAtC;;AAEA,YAAIH,CAAC,CAACC,MAAF,CAASM,IAAT,CAAcK,UAAd,KAA6B,OAAjC,EAA0C;AACxCd,kCAAQe,IAAR,CAAa,yBAAb,EAAwC;AACtCC,YAAAA,gBAAgB,EAAE,MADoB;AAEtCC,YAAAA,gBAAgB,EAAE;AAFoB,WAAxC;AAID;;AACD;AAhBJ;AAkBD,GAnBD;AAoBD;;eAEcnB,W","sourcesContent":["import connect from '@vkontakte/vkui-connect';\n\n/**\n * Обертка над vkui-connect автоматически устанавливающая тему\n *\n * @param isWeb - Если нужно установить тему bright_light\n * @constructor\n */\nfunction SetWebTheme(isWeb) {\n  connect.subscribe((e) => {\n    switch (e.detail.type) {\n      case 'VKWebAppUpdateConfig':\n        let schemeAttribute = document.createAttribute('scheme');\n        if (isWeb) {\n          schemeAttribute.value = 'bright_light';\n        } else {\n          schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'bright_light';\n        }\n        document.body.attributes.setNamedItem(schemeAttribute);\n\n        if (e.detail.data.appearance === 'light') {\n          connect.send(\"VKWebAppSetViewSettings\", {\n            status_bar_style: \"dark\",\n            action_bar_color: \"#fff\"\n          });\n        }\n        break;\n    }\n  });\n}\n\nexport default SetWebTheme;\n"],"file":"SetWebTheme.js"}