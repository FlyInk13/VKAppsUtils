{"version":3,"sources":["../src/SetWebTheme.js"],"names":["SetWebTheme","isWeb","bridge","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","appearance","send","status_bar_style","action_bar_color"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;;;AAMA,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AAC1BC,uBAAOC,SAAP,CAAiB,gBAA+B;AAAA,2BAA5BC,MAA4B;AAAA,QAAlBC,IAAkB,eAAlBA,IAAkB;AAAA,QAAZC,IAAY,eAAZA,IAAY;;AAC9C,YAAQD,IAAR;AACE,WAAK,sBAAL;AACE,YAAIE,eAAe,GAAGC,QAAQ,CAACC,eAAT,CAAyB,QAAzB,CAAtB;;AAEA,YAAIR,KAAJ,EAAW;AACTM,UAAAA,eAAe,CAACG,KAAhB,GAAwB,cAAxB;AACD,SAFD,MAEO;AACLH,UAAAA,eAAe,CAACG,KAAhB,GAAwBJ,IAAI,CAACK,MAAL,GAAcL,IAAI,CAACK,MAAnB,GAA4B,cAApD;AACD;;AAEDH,QAAAA,QAAQ,CAACI,IAAT,CAAcC,UAAd,CAAyBC,YAAzB,CAAsCP,eAAtC;;AAEA,YAAID,IAAI,CAACS,UAAL,KAAoB,OAAxB,EAAiC;AAC/Bb,+BAAOc,IAAP,CAAY,yBAAZ,EAAuC;AACrCC,YAAAA,gBAAgB,EAAE,MADmB;AAErCC,YAAAA,gBAAgB,EAAE;AAFmB,WAAvC;AAID;;AAED;AAnBJ;AAqBD,GAtBD;AAuBD;;eAEclB,W","sourcesContent":["import bridge from '@vkontakte/vk-bridge';\n\n/**\n * Обертка над vk-bridge автоматически устанавливающая тему\n *\n * @param isWeb - Если нужно установить тему bright_light\n * @constructor\n */\nfunction SetWebTheme(isWeb) {\n  bridge.subscribe(({ detail: { type, data }}) => {\n    switch (type) {\n      case 'VKWebAppUpdateConfig':\n        let schemeAttribute = document.createAttribute('scheme');\n\n        if (isWeb) {\n          schemeAttribute.value = 'bright_light';\n        } else {\n          schemeAttribute.value = data.scheme ? data.scheme : 'bright_light';\n        }\n\n        document.body.attributes.setNamedItem(schemeAttribute);\n\n        if (data.appearance === 'light') {\n          bridge.send(\"VKWebAppSetViewSettings\", {\n            status_bar_style: \"dark\",\n            action_bar_color: \"#fff\"\n          });\n        }\n\n        break;\n    }\n  });\n}\n\nexport default SetWebTheme;\n"],"file":"SetWebTheme.js"}